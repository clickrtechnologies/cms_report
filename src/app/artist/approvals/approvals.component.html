<div class="container mt-4">

  <h4 class="mb-3">Artist Approvals</h4>

  <div class="table-responsive">
    <table class="table table-bordered align-middle text-center table-hover">
      <thead class="table-dark">
        <tr>
          <th>Approve/Reject</th>
          <th>S.No</th>
          <th>Artist</th>
          <th>Album</th>
          <th>Song</th>
          <th>Audio</th>
          <th>Gen/Cat</th>
          <th>Upload Date</th>
          <th>CP</th>
          <th>From</th>
          <th>To</th>
          <th>Country</th>
          <th>MNO</th>
          <th>Song Code</th>
          <th>QR</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let song of approvals; let i = index" 
            [ngClass]="{
              'table-success': song.approved === true,
              'table-danger': song.approved === false
            }">
          <td>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="approval{{i}}" [value]="true" [(ngModel)]="song.approved" id="approve{{i}}">
              <label class="form-check-label" for="approve{{i}}">Approve</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="approval{{i}}" [value]="false" [(ngModel)]="song.approved" id="reject{{i}}">
              <label class="form-check-label" for="reject{{i}}">Reject</label>
            </div>
          </td>
          <td>{{ i + 1 }}</td>
          <td>{{ song.artist }}</td>
          <td>{{ song.album }}</td>
          <td>{{ song.songName }}</td>
          <td>
            <audio [src]="song.songFile || song.audioFileUrl" controls preload="none" style="width: 120px;"></audio>
          </td>
          <td>{{ song.genre }}</td>
          <td>{{ song.uploadDate }}</td>
          <td>{{ song.cp }}</td>
          <td>{{ song.fromDate }}</td>
          <td>{{ song.toDate }}</td>
          <td>{{ song.country }}</td>
          <td>{{ song.mno }}</td>
          <td>{{ song.songCode || '--' }}</td>
          <td>
            <a *ngIf="song.qrUrl" [href]="song.qrUrl" target="_blank">
              <img [src]="song.qrUrl" alt="QR" width="50">
            </a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="text-end mt-3">
    <button class="btn btn-success" (click)="saveAllApprovals()">Save All</button>
  </div>
</div>
